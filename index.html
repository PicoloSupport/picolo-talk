<!doctype html>
<html lang="en">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Talk to Picolo</title>

<style>
  :root { color-scheme: dark; }
  html,body { height:100%; }
  body {
    margin:0; background:#111; color:#fff; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    display:grid; place-items:center; padding:0 16px;
  }
  button {
    cursor:pointer; padding:12px 22px; border-radius:9999px; background:#fff; color:#111;
    font-weight:600; font-size:16px; line-height:1;
    border:1px solid rgba(0,0,0,0.12); box-shadow:0 6px 18px rgba(0,0,0,0.18);
  }
</style>

<button id="talk">Press to Talk</button>

<!-- Load the Vapi Web SDK -->
<script src="https://unpkg.com/@vapi-ai/web/dist/index.min.js"></script>
<script>
  const vapi = new Vapi("fc5f6fc4-d5da-4bfe-8b02-6035430c1d92"); // your Public Key
  const ASSISTANT_ID = "567a070a-9e4a-478c-9218-ab2e16bce29b";   // your Assistant ID

  let inCall = false;
  const btn = document.getElementById("talk");
  const set = t => btn.textContent = t;

  btn.onclick = async () => {
    btn.disabled = true;
    try {
      if (!inCall) {
        set("Connecting...");
        await vapi.start(ASSISTANT_ID);
        inCall = true; set("End");
      } else {
        await vapi.stop();
        inCall = false; set("Press to Talk");
      }
    } finally {
      btn.disabled = false;
    }
  };

  vapi.on("call-start", ()=>{ inCall=true;  set("End"); });
  vapi.on("call-end",   ()=>{ inCall=false; set("Press to Talk"); });
  vapi.on("error",      ()=>{ inCall=false; set("Press to Talk"); });
</script>
</html>
